<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Subathon Settings</title>
  <link rel="stylesheet" href="global.css">
</head>

<body>
  <!--
  <div class="sidebar">
    <div class="icon-container">
      <a href="#general" class="nav-icon">
        <img src="build/img/general-logo.png" alt="General Settings">
      </a>
      <a href="#twitch" class="nav-icon">
        <img src="build/img/twitch-logo.png" alt="Twitch Settings">
      </a>
      <a href="#youtube" class="nav-icon">
        <img src="build/img/youtube-logo.png" alt="YouTube Settings">
      </a>
    </div>
  </div>
-->
  <main class="leftbar-main">
    <h1 id="general">Subathon Settings</h1>
    <form id="subathonForm">
      <div>
        <label for="startingTime">Starting Time (in seconds):</label>
        <input type="number" id="startingTime" name="startingTime" required>

        <label for="randomHourChance">Chance to Add Hour (0-1 e.g. 95% = .95)</label>
        <input type="number" step=".01" id="randomHourChance" name="randomHourChance" required>

        <label for="oddsForMultiplier">Chance to Multiply (0-1 e.g. .95 = 95%)</label>
        <input type="number" step=".01" id="oddsForMultiplier" name="oddsForMultiplier" required>

        <label for="amountForMultiplier">Chance to Multiply by X (e.g. 4 = 4x)</label>
        <input type="number" id="amountForMultiplier" name="amountForMultiplier" required>
      </div>

      <h2 id="twitch">Twitch Increments</h2>
      <div>
        <label for="tier1Increment">Tier 1 Increment (seconds):</label>
        <input type="number" id="tier1Increment" name="tier1Increment" required>
      </div>
      <div>
        <label for="tier2Increment">Tier 2 Increment (seconds):</label>
        <input type="number" id="tier2Increment" name="tier2Increment" required>
      </div>
      <div>
        <label for="tier3Increment">Tier 3 Increment (seconds):</label>
        <input type="number" id="tier3Increment" name="tier3Increment" required>
      </div>
      <div>
        <label for="bitIncrement">Bit Increment (seconds per 100bits):</label>
        <input type="number" id="bitIncrement" name="bitIncrement" required>
      </div>
      <div>
        <label for="hypeTrainMulti">Hype Train Multiplier (time added = base * (1 + (multiplier * level))):</label>
        <input type="number" id="hypeTrainMulti" name="hypeTrainMulti" required>
      </div>

      <!--
      <h2 id="youtube">YouTube Increment</h2>
      <div>
        <label for="memberIncrement">Member Increment (seconds):</label>
        <input type="number" id="memberIncrement" name="memberIncrement" required>
      </div>
      <div>
        <label for="superchatIncrement">Superchat Increment (seconds per $1):</label>
        <input type="number" id="superchatIncrement" name="superchatIncrement" required>
      </div>
-->
      <br>
      <button type="submit">Save Settings</button>
    </form>
  </main>
</body>
<script>
  document.addEventListener('DOMContentLoaded', async () => {
    const settings = await window.electronAPI.getSettings();
    for (const [k, v] of Object.entries(settings)) {
      const e = document.getElementById(k)
      if (e) e.value = v || ''
    }
  });

  const form = document.getElementById('subathonForm');
  form.addEventListener('submit', (e) => {
    e.preventDefault();
    window.electronAPI.saveSettings(Object.fromEntries(new FormData(form).entries()));
  });
</script>

</html>
